@model Guid
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
@inject IUtilityService UtilityService

<environment include="Development">
    <link rel="stylesheet" href="~/css/Books/Favorite.css" />
</environment>

<div class="col-1">
    @if (SignInManager.IsSignedIn(User))
    {
        var user = UserManager.GetUserId(User);
        var checkFavorite = UtilityService.GetBookStateById(Model, Guid.Parse(user));
        if (checkFavorite != null)
        {
            if (checkFavorite.IsFavorite)
            {
                <button type="submit" class="btn rounded-circle" id="removeFavorite" onclick="RemoveFavorite('@Model', '@user')" data-toggle="tooltip" data-placement="right" title="Remove it from your favorite">
                    <i class="fa fa-heart-o"></i>
                </button>
            }
            else
            {
                <button type="submit" class="btn rounded-circle" id="addFavorite" onclick="AddFavorite('@Model', '@user')" data-toggle="tooltip" data-placement="right" title="Add to favorites">
                    <i class="fa fa-heart"></i>
                </button>
            }
        }
        else
        {
            <button type="submit" class="btn rounded-circle" id="addFavorite" onclick="AddFavorite('@Model', '@user')" data-toggle="tooltip" data-placement="right" title="Add to favorites">
                <i class="fa fa-heart"></i>
            </button>
        }
    }
</div>